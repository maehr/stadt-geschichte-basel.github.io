const kProgressiveAttr="data-src";let categoriesLoaded=!1;window.quartoListingCategory=t=>{t=decodeURIComponent(atob(t)),categoriesLoaded&&(activateCategory(t),setCategoryHash(t))},window["quarto-listing-loaded"]=()=>{const t=getHash();if(t){t.category&&activateCategory(decodeURIComponent(t.category));const e=Object.keys(window["quarto-listings"]);for(const n of e){const i=t[getListingPageKey(n)];i&&showPage(n,i)}}const o=Object.keys(window["quarto-listings"]);for(const e of o){const n=window["quarto-listings"][e];refreshPaginationHandlers(e),renderVisibleProgressiveImages(n),n.on("updated",function(){renderVisibleProgressiveImages(n),setTimeout(()=>refreshPaginationHandlers(e)),toggleNoMatchingMessage(n)})}},window.document.addEventListener("DOMContentLoaded",function(t){const o=window.document.querySelectorAll(".quarto-listing-category .category");for(const n of o){const i=decodeURIComponent(atob(n.getAttribute("data-category")));n.onclick=()=>{activateCategory(i),setCategoryHash(i)}}const e=window.document.querySelectorAll(".quarto-listing-category-title");for(const n of e)n.onclick=()=>{activateCategory(""),setCategoryHash("")};categoriesLoaded=!0});function toggleNoMatchingMessage(t){const o=`#${t.listContainer.id} .listing-no-matching`,e=window.document.querySelector(o);e&&(t.visibleItems.length===0?e.classList.remove("d-none"):e.classList.contains("d-none")||e.classList.add("d-none"))}function setCategoryHash(t){setHash({category:t})}function setPageHash(t,o){const e=getHash()||{};e[getListingPageKey(t)]=o,setHash(e)}function getListingPageKey(t){return`${t}-page`}function refreshPaginationHandlers(t){const e=window.document.getElementById(t).querySelectorAll(".pagination li.page-item:not(.disabled) .page.page-link");for(const n of e)n.onclick=i=>(setPageHash(t,i.target.getAttribute("data-i")),showPage(t,i.target.getAttribute("data-i")),!1)}function renderVisibleProgressiveImages(t){for(const o of t.visibleItems){const e=o.elm;if(e){const n=e.querySelectorAll(`img[${kProgressiveAttr}]`);for(const i of n){const s=i.getAttribute(kProgressiveAttr);s&&i.setAttribute("src",s),i.removeAttribute(kProgressiveAttr)}}}}function getHash(){const t=new URL(window.location),o=t.hash?t.hash.slice(1):void 0;return parseHash(o)}const kAnd="&",kEquals="=";function parseHash(t){if(!t)return;const e=t.split(kAnd).map(i=>{const s=i.split(kEquals);if(s.length===2)return{name:s[0],value:s[1]}}).filter(i=>i!==void 0),n={};return e.forEach(i=>{n[i.name]=decodeURIComponent(i.value)}),n}function makeHash(t){return Object.keys(t).map(o=>`${o}${kEquals}${t[o]}`).join(kAnd)}function setHash(t){const o=makeHash(t);window.history.pushState(null,null,`#${o}`)}function showPage(t,o){const e=window["quarto-listings"][t];e&&e.show((o-1)*e.page+1,e.page)}function activateCategory(t){const o=window.document.querySelectorAll(".quarto-listing-category .category.active");for(const n of o)n.classList.remove("active");const e=window.document.querySelector(`.quarto-listing-category .category[data-category='${btoa(encodeURIComponent(t))}']`);e&&e.classList.add("active"),filterListingCategory(t)}function filterListingCategory(t){const o=Object.keys(window["quarto-listings"]);for(const e of o){const n=window["quarto-listings"][e];n&&(t===""?n.filter():n.filter(function(i){const s=i.values();return s.categories!==null?decodeURIComponent(atob(s.categories)).split(",").includes(t):!1}))}}
